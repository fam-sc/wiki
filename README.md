# FAM Wiki

![https://github.com/fam-sc/wiki/actions/workflows/publish.yml](https://github.com/fam-sc/wiki/actions/workflows/publish.yml/badge.svg)
[![License: CC0-1.0](https://img.shields.io/badge/License-CC0%201.0-lightgrey.svg)](http://creativecommons.org/publicdomain/zero/1.0/)

Welcome to the FAM Wiki repository! Here are the sources of articles that are used to build the [website](https://fam-sc.github.io/wiki/). We build our stuff with Sphinx,
an open-source documentation processor, see [it's documentation](https://www.sphinx-doc.org/en/master/) for more information
(theme docs are [here](https://pydata-sphinx-theme.readthedocs.io/en/stable/user_guide/index.html)).

## License

Code is available under [BSD 2-caluse license](https://opensource.org/licenses/BSD-2-Clause). The code is autogenerated by Sphinx mostly, though, hence the license is same as the Sphinx one.

The articles themselves are public domain. By contributing new articles to FAM wiki, you agree to waiving all of your rights to the work you made, worldwide under copyright law, including all related and neighboring rights, to the extent allowed by law.

## Contributing

If you want to see a new article, you may request it using GitHub's bug-tracker ("Issues" tab) or write it yourself.
Feel free to fork the repository and open a pull request after you're done with your edits.

By the way, if you're from Student Council or find yourself editing this wiki often: request access from our IT deparment's head.

This section will cover the basics of editing using the tools we use here. It is assumed that the reader has the following knowledge:
* What [Git](https://git-scm.com/) & GitHub is + [how to use it](https://supersimpledev.github.io/references/git-github-reference.pdf)
* Basic syntax of either [reStructuredText](https://docutils.sourceforge.io/docs/user/rst/quickstart.html) or [Markdown](https://learnxinyminutes.com/docs/markdown)
* Basic usage of CLI and make utility
* Sphinx knowledge is very welcome, but is optional, I guess

### Working with this repo

Clone your forked repository as you usually would. Make sure you have the following, aside from Git, installed on your machine:
* Python 3.10+ (idk which version, but I use `v3.13` and it works)
* [Poetry package manager](https://python-poetry.org/docs/)
* Your favourite text editor (I use Kate)
* For OS X and Linux: make utility

After cloning the repo, install dependencies via pip:
`poetry install`

Activate python poetry virtual environment:
`poetry shell`

And now you can go ahead and work on articles, yay. To build the wiki execute this:
`make html`

Or for Windows:
`.\make.bat html`

If the compilation won't fail, you'll see `_build` directory appear.
The built wiki is located in `_build/html`, you can access it by opening `_build/html/index.html` in your browser of choice.

### Creating a basic page

Adding a basic page is pretty straightforward, really. All you need to do is create a file with `*.md` or `*.rst` extension (currently we accept both formats).
If a file is named, let's say, `test/article.md`, it will be accessible at `https://fam-sc.github.io/wiki/test/article.html`. Don't forget to add heading to your articles.

Our Sphinx installation is configured to list articles placed inside `abit`, `freshmen` and `council` directories. Articles located there are also visible on the sidebar.

If you'll need to add an image, remember to put the images in the `_static` directory and reference it using relative (from the article file) path in your document.

If you don't want to deep dive into how Sphinx works, the provided knowledge will be enough. Have fun.

If you wish to make your articles more interesting by adding cards or infoboxes (admonitions), check the following guides:
* [Sphix{design}](https://sphinx-design.readthedocs.io/en/pydata-theme/index.html) documentation: provides grids, cards, dropdowns and tabs
* [Admonitions showcase](https://pydata-sphinx-theme.readthedocs.io/en/stable/examples/kitchen-sink/admonitions.html): note, tip, warning etc
  boxes [\[source\]](https://pydata-sphinx-theme.readthedocs.io/en/stable/_sources/examples/kitchen-sink/admonitions.rst), [see `index.md` to understand how to use Sphinx directives in markdown
* You can also check out [Sphinx directives guide](https://www.sphinx-doc.org/en/master/usage/restructuredtext/directives.html), it is, however, tailored for reStructuredText

### Subpages

Basically, Sphinx understands which page (article) is located where in the hierarchy by scanning `toctree` directives.
For page to appear as a subpage of another, it must be linked to via `toctree` directive:
````
# My cool page

Subpages:
```{toctree}
:includehidden:
:titlesonly:
:maxdepth: 2
page1
page2
page3
```
````

This will tell Sphinx that it should assume that page1, page2 and page3 are subpages of the page in which this directive was placed and also render the Table of Contents.

By the way, always put `toctree` directives after the heading, otherwise it will not work.

You can use the `:glob:` parameter to tell Sphinx that you're going to use glob templates to list pages.
For example, by using this code you will get Table of Contents that will include all of the pages in directory:
````
```{toctree}
:includehidden:
:titlesonly:
:maxdepth: 2
:glob:
*
```
````

There are also some other peculiar options you can use with `toctree`,
refer to the [Sphinx documentation](https://www.sphinx-doc.org/en/master/usage/restructuredtext/directives.html#table-of-contents) to learn more.
Here I'll list some of the options I find useful:
* `:hidden:` &mdash; don't render Table of Contents: subpages will be registered, however no ToC will be placed in the document
* `:includehidden:` &mdash; if you want to render Table of Contents and want to make subpages referenced by hidden ToCtrees show up, use this option
* `:glob:` &mdash; use glob syntax
* `:titlesonly:` &mdash; by default Sphinx includes headings inside pages in rendered ToC, which is very weird, use this to display only pages in ToC
* `:maxdepth: N` &mdash; ToCtrees are recursive, you can limit recursion by specifying max depth.
  As an example, max depth of 2 will list all subpages the page has and every subpage those subpages have, but not subpages of those subpages of subpages of the page.
  A little confusing maybe, but you get the idea xd.
